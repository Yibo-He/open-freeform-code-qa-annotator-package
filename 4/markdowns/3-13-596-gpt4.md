
# Post \#67663728 [Link](https://stackoverflow.com/questions/67663728/)

## Spring Boot 2.5.0 generates plain.jar file. Can I remove it?

**Vote**: 115 (47/702) **Views**: 46322 (175/702) 

**Internal ID** \#3-13-596

Created at 2021-05-23 19:45:05

Tags: `java` `spring` `spring-boot` `kotlin` `gradle`

----------

#### Metadata:

Area: `Mobile and Desktop Apps`

Language: `kotlin` (full parsed tag list: `kotlin`)

----------

**Notepad**


----------

After the Spring Boot 2.5.0 update, it generates the `myprogram-0.0.1-plain.jar` file alongside the usual `myprogram-0.0.1.jar`. Can I disallow gradle to generate the `*.plain.jar` file? I use Gradle 7.0.2.
What I get:
```
build/
  libs/
    myprogram-0.0.1.jar
    myprogram-0.0.1-plain.jar
```

What I want:
```
build/
  libs/
    myprogram-0.0.1.jar
```

build.gradle:
```
plugins {
    id 'org.springframework.boot' version '2.5.0'
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
    id 'java'
}

group = 'com.example'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '11'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
    useJUnitPlatform()
}
```



----------
        
## GPT4 Attempt \#0

The `*.plain.jar` file is generated by the `bootJar` task in Spring Boot 2.5.0 and later versions. This task is automatically added by the Spring Boot plugin. The `*.plain.jar` is a jar file that contains only your project's classes and resources, without any of the dependencies.

If you want to disable the generation of the `*.plain.jar` file, you can configure the `bootJar` task in your `build.gradle` file to not generate it. You can do this by setting the `enabled` property of the `bootJar` task to `false`.

Here is how you can do it:

```groovy
bootJar {
    enabled = false
}
```

Add this to your `build.gradle` file. This will disable the `bootJar` task, and as a result, the `*.plain.jar` file will not be generated.

However, please note that this will also disable the generation of the `*.jar` file that contains your project's classes, resources, and dependencies. If you still want to generate this file, you should use the `jar` task instead:

```groovy
bootJar {
    enabled = false
}

jar {
    enabled = true
}
```

This will disable the `bootJar` task (and thus the generation of the `*.plain.jar` file), but enable the `jar` task (and thus the generation of the `*.jar` file that contains your project's classes, resources, and dependencies).

--------

## GPT4 Attempt \#1

The `myprogram-0.0.1-plain.jar` is generated by the `bootJar` task in Spring Boot 2.5.0. This task is responsible for creating an executable jar. The `plain.jar` is a non-executable jar that is also created by this task.

If you want to disable the generation of the `plain.jar` file, you can configure the `bootJar` task in your `build.gradle` file to not include the `classifier` which is responsible for the `-plain` suffix. Here's how you can do it:

```groovy
bootJar {
    enabled = true
    classifier = null
}
```

This will tell Gradle to not include a classifier in the jar name, thus not generating the `plain.jar` file. 

Please note that this will only generate the executable jar, and if you need a non-executable jar for some reason, you will need to generate it separately.

--------

## GPT4 Attempt \#2

The `*.plain.jar` file is generated by the `bootJar` task in Spring Boot 2.5.0. This task has a property `archiveClassifier` which is set to `'plain'` by default. This is why the `*.plain.jar` file is generated.

To disallow Gradle from generating the `*.plain.jar` file, you can configure the `bootJar` task in your `build.gradle` file to not have a classifier. Here is how you can do it:

```groovy
bootJar {
    enabled = false
}

jar {
    enabled = true
}
```

This will disable the `bootJar` task (which generates the `*.plain.jar` file) and enable the `jar` task (which generates the `*.jar` file). After this change, only the `*.jar` file will be generated.

Your `build.gradle` file should look like this:

```groovy
plugins {
    id 'org.springframework.boot' version '2.5.0'
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
    id 'java'
}

group = 'com.example'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '11'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

bootJar {
    enabled = false
}

jar {
    enabled = true
}

test {
    useJUnitPlatform()
}
```

Please note that this will also disable the Spring Boot's fat JAR packaging. If you need the fat JAR packaging, you should not disable the `bootJar` task.

--------
